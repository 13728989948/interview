<!DOCTYPE html>
<html>
<head>
<title>Dubbo负载均衡</title>
<meta name="robots" content="all" />
<meta name="renderer" content="webkit">
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="expires" content="expires" />
<meta http-equiv="imagetoolbar" content="false" />
<meta name="format-detection" content="telephone=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="cache-control" content="no-store, must-revalidate, no-cache" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<link href="../../css/global.css" type="text/css" rel="stylesheet" media="all" />
<link href="../../css/interview.css" type="text/css" rel="stylesheet" media="all" />
<link href="../../layui/src/css/layui.css" type="text/css" rel="stylesheet" media="all" />
<script src="../../js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/interview.top.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/interview.side.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>

<!-- 外层Div -->
 <div class="layui-layout-admin">
  <script>createHeader();</script>
  <script>createSideBar();</script>

<!-- 主内容区 -->
  <div id="mainCon" class="mainCon">
   <div class="layui-body">
    <div class="layui-main">

<!--  -->
     <fieldset class="layui-elem-field layui-field-title">
      <legend>Dubbo负载均衡有哪几种方式？</legend>
     </fieldset>
     <div class="sinImgDiv">
      <img src="images/dubbo_005.jpg" />
     </div>
     <blockquote class="layui-elem-quote indent-area">
      <p class="notIndent"><strong>Random LoadBalance:</strong></p>
      <p>随机，按权重设置随机概率</p>
      <p>在一个截面上碰撞的概率高，但调用量越大分布越均匀，而且按概率使用权重后也比较均匀，有利于动态调整提供者权重</p>
      <p class="notIndent"><strong>RoundRobin LoadBalance:</strong></p>
      <p>轮循，按公约后的权重设置轮循比率</p>
      <p>存在问题：慢的提供者累积请求问题，如：第二台机器很慢，但没挂，当请求调到第二台时就卡在那，久而久之，所有请求都卡在这台机器上</p>
      <p class="notIndent"><strong>LeastActive LoadBalance:</strong></p>
      <p>最少活跃调用数，相同活跃数的随机，活跃数指调用前后计数差</p>
      <p>使慢的提供者收到更少请求，因为越慢的提供者的调用前后计数差会越大</p>
      <p class="notIndent"><strong>ConsistentHash LoadBalance:</strong></p>
      <p>一致性Hash，相同参数的请求总是发到同一提供者</p>
      <p>当某一台提供者挂时，原本发往该提供者的请求，基于虚拟节点，平摊到其它提供者，不会引起剧烈变动</p>
      <p>缺省只对第一个参数Hash，如果要修改，请配置&lt;dubbo:parameter key="hash.arguments" value="0,1"/&gt;</p>
      <p>缺省用160份虚拟节点，如果要修改，请配置&lt;dubbo:parameter key="hash.nodes" value="320"/&gt;</p>
     </blockquote>
    </div>
   </div>
  </div>
 </div>

<!-- Js导入之底部 -->
<script src="../../layui/src/layui.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/interview.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>